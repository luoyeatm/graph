import{z as a,b as e,y as t,G as l,r as o,o as n,c as r,f as u,H as s,aN as c,aL as d,g as i}from"./vendor.e6acaae6.js";import{k as h}from"./index.8a97e1bb.js";var m={setup(){const o=a({name:"",length:"",width:""}),n=e(!1),r=a({columns:[{title:"名称",width:220,dataIndex:"name",slots:{customRender:"name"}},{title:"宽度",width:80,dataIndex:"width"},{title:"高度",width:80,dataIndex:"height"},{title:"Action",key:"action",slots:{customRender:"action"}}],data:[]}),u=t(h),{proxy:s}=l(),c=s.$api,d=()=>{c.graph.graph.pages().then((a=>{console.log(a.data),r.data=a.data}))};d();return{table:r,currentGraph:o,visible:n,create:()=>{c.graph.graph.saveOrUpdate(o).then((a=>{console.log(a.data),r.data=a.data,n.value=!1,d()}))},showForm:()=>{n.value=!0},closeForm:()=>{n.value=!1},selectedGraph:a=>{console.log(u),u.commit("common/setGraph",a),console.log("................"),console.log(a)}}}};const p=i("新建"),v=i("展示");m.render=function(a,e,t,l,i,h){const m=o("a-button"),f=o("a-col"),b=o("a-row"),g=o("a-input"),w=o("a-form-item"),G=o("a-form"),_=o("a-modal"),k=o("a-table");return n(),r(d,null,[u(b,null,{default:s((()=>[u(f,null,{default:s((()=>[u(m,{onClick:l.showForm},{default:s((()=>[p])),_:1},8,["onClick"])])),_:1})])),_:1}),u(_,{visible:l.visible,onOk:l.create,onCancel:l.closeForm},{default:s((()=>[u(G,null,{default:s((()=>[u(w,{label:"组态名称"},{default:s((()=>[u(g,{value:l.currentGraph.name,"onUpdate:value":e[1]||(e[1]=a=>l.currentGraph.name=a)},null,8,["value"])])),_:1}),u(w,{label:"宽度"},{default:s((()=>[u(g,{value:l.currentGraph.width,"onUpdate:value":e[2]||(e[2]=a=>l.currentGraph.width=a)},null,8,["value"])])),_:1}),u(w,{label:"高度"},{default:s((()=>[u(g,{value:l.currentGraph.height,"onUpdate:value":e[3]||(e[3]=a=>l.currentGraph.height=a)},null,8,["value"])])),_:1})])),_:1})])),_:1},8,["visible","onOk","onCancel"]),u(k,{rowKey:(a,e)=>e,columns:l.table.columns,"data-source":l.table.data},{name:s((({text:a})=>[u("a",null,c(a),1)])),action:s((({text:a,record:e})=>[u(m,{onClick:a=>l.selectedGraph(e)},{default:s((()=>[v])),_:2},1032,["onClick"])])),_:1},8,["rowKey","columns","data-source"])],64)};export default m;
